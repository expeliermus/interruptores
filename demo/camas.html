<!DOCTYPE html>
<html>

<head>
</head>

<body>
    <div class="content">
        <div class="row">
            <div class="col-md-12 col-lg-10">
                <div class="card">
                    <div class="card-header card-header-primary">
                        <h4 class="card-title ">Listado y asignaciÃ³n de camas</h4>
                    </div>
                    <div class="card-body">
                        <form>
                            <div class="form-group">
                                <style>
                                .dark-edition .form-control,
                                .is-focused .dark-edition .form-control {
                                    background-image: linear-gradient(to top, #9c27b0 2px, rgba(156, 39, 176, 0) 2px), linear-gradient(to top, rgba(180, 180, 180, 0) 0px, rgba(180, 180, 180, 0) 1px);
                                }
                                </style>
                                <div class="container-fluid" id="cuerpo">

                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
            <div class="col-md-12 col-lg-2">
            	&nbsp;
            </div>
        </div>
    </div>
    <script>
    var datosDesdeSQL = 'xyzopqdatosdesdeelserver'




    var mismahabitacion = 'noexiste';
    var linea = '';
    for (var caso of JSON.parse(datosDesdeSQL)) {
        agregaLinea(caso.habitacion, caso.cama, caso.Paciente);

    }


    function agregaLinea(a, b, c) {

        linea = linea + '<div class="row">';
        if (mismahabitacion != a) {
            linea = linea + '<div class="col-12 col-sm-1 col-md-1 col-lg-1 my-auto d-none d-sm-block">' + a + '</div>';
            linea = linea + '<div class="col-12 col-sm-11 col-md-11 col-lg-11"><div class="row">';
        }

        linea = linea + '<div class="col-3 d-block d-sm-none">Hab ' + a + '</div>';
        linea = linea + '<div class="col-3 col-sm-2 col-md-2 col-lg-2">cama ' + b + '</div>';

        linea = linea + '<div class="col-2 d-block d-sm-none"><button type="button" rel="tooltip" title="Asignar esta persona a esta cama" class="btn btn-white btn-link btn-sm ah_' + a + 'c_' + b + '"><i class="material-icons">save_alt</i></button></div>';
        linea = linea + '<div class="col-2 d-block d-sm-none"><button type="button" rel="tooltip" title="Bloquear esta cama" class="btn btn-white btn-link btn-sm bh_' + a + 'c_' + b + '"><i class="material-icons">pan_tool</i></button></div>';
        linea = linea + '<div class="col-2 d-block d-sm-none"><button type="button" rel="tooltip" title="Vaciar la cama" class="btn btn-white btn-link btn-sm xh_' + a + 'c_' + b + '"><i class="material-icons">close</i></button></div>';

        linea = linea + '<div class="col-12 col-sm-7 col-md-7 col-lg-7"><input type="text" class="form-control"  value="' + c + '"></div>';

        linea = linea + '<div class="col-4 col-sm-1 col-md-1 col-lg-1 d-none d-sm-block"><button type="button" rel="tooltip" title="Asignar esta persona a esta cama" class="btn btn-white btn-link btn-sm ah_' + a + 'c_' + b + '"><i class="material-icons">save_alt</i></button></div>';
 if (c.length > 1) {
        linea = linea + '<div class="col-4 col-sm-1 col-md-1 col-lg-1 d-none d-sm-block">&nbsp;</div>';
        linea = linea + '<div class="col-4 col-sm-1 col-md-1 col-lg-1 d-none d-sm-block"><button type="button" rel="tooltip" title="Vaciar la cama" class="btn btn-white btn-link btn-sm xh_' + a + 'c_' + b + '"><i class="material-icons">close</i></button></div>';
    }
    else {
        linea = linea + '<div class="col-4 col-sm-1 col-md-1 col-lg-1 d-none d-sm-block"><button type="button" rel="tooltip" title="Bloquear esta cama" class="btn btn-white btn-link btn-sm bh_' + a + 'c_' + b + '"><i class="material-icons">pan_tool</i></button></div>';
        linea = linea + '<div class="col-4 col-sm-1 col-md-1 col-lg-1 d-none d-sm-block">&nbsp;</div>';

    }
            linea = linea + '</div>';
        if (mismahabitacion != a) {
            mismahabitacion = a;
        } else {
            linea = linea + '</div></div><hr style="background-color: rgba(180, 180, 180, 0.1);">';
            $("#cuerpo").append(linea);
            linea = '';
            //alert(linea);
        }



        

        //ah_9c_9
        //<button type="button" rel="tooltip" title="Asignar esta persona a esta cama" class="btn btn-white btn-link btn-sm ah_' + a + 'c_' + b + '"><i class="material-icons">save_alt</i></button>
        //xh_9c_9
        //<button type="button" rel="tooltip" title="Vaciar la cama" class="btn btn-white btn-link btn-sm xh_' + a + 'c_' + b + '"><i class="material-icons">close</i></button>
        //bh_9c_9
        //<button type="button" rel="tooltip" title="Bloquear esta cama" class="btn btn-white btn-link btn-sm bh_' + a + 'c_' + b + '"><i class="material-icons">pan_tool</i></button>

        /*
        if (c.length > 1) {
            linea = linea + '<td>&nbsp;</td>'
            linea = linea + '<td class="td-actions text-right"><button type="button" rel="tooltip" title="Vaciar la cama" class="btn btn-white btn-link btn-sm"><i class="material-icons">close</i></button></td></tr>';
        } else {
            linea = linea + '<td class="td-actions text-right"><button type="button" rel="tooltip" title="Bloquear esta cama" class="btn btn-white btn-link btn-sm"><i class="material-icons">pan_tool</i></button></td>';
            linea = linea + '<td>&nbsp;</td>'
        }
        */


        
    }


   
    </script>
</body>

</html>